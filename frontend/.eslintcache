[{"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/index.js":"1","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reportWebVitals.js":"2","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/App.js":"3","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/Header.js":"4","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/FormCard.js":"5","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/helpers/upload.js":"6","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/config.js":"7","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/DownloadCard.js":"8","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutUpload.js":"9","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutDownload.js":"10","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/helpers/formatBytes.js":"11","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutSent.js":"12","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/SentCard.js":"13","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/store.js":"14","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/uploadReducer.js":"15","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/uploadActions.js":"16","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/formActions.js":"17","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/formReducer.js":"18","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/downloadReducer.js":"19","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/downloadActions.js":"20","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/UploadBar.js":"21"},{"size":570,"mtime":1608127264230,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":1607856703449,"results":"24","hashOfConfig":"23"},{"size":725,"mtime":1608071372256,"results":"25","hashOfConfig":"23"},{"size":397,"mtime":1607860802349,"results":"26","hashOfConfig":"23"},{"size":5075,"mtime":1608402207918,"results":"27","hashOfConfig":"23"},{"size":913,"mtime":1607941409845,"results":"28","hashOfConfig":"23"},{"size":95,"mtime":1607890102315,"results":"29","hashOfConfig":"23"},{"size":6228,"mtime":1608402212352,"results":"30","hashOfConfig":"23"},{"size":877,"mtime":1608158916374,"results":"31","hashOfConfig":"23"},{"size":472,"mtime":1608070162660,"results":"32","hashOfConfig":"23"},{"size":767,"mtime":1608397038032,"results":"33","hashOfConfig":"23"},{"size":472,"mtime":1608072239911,"results":"34","hashOfConfig":"23"},{"size":3565,"mtime":1608402213210,"results":"35","hashOfConfig":"23"},{"size":877,"mtime":1608374730066,"results":"36","hashOfConfig":"23"},{"size":1027,"mtime":1608386290849,"results":"37","hashOfConfig":"23"},{"size":2767,"mtime":1608661137461,"results":"38","hashOfConfig":"23"},{"size":2050,"mtime":1608661336506,"results":"39","hashOfConfig":"23"},{"size":1591,"mtime":1608156559346,"results":"40","hashOfConfig":"23"},{"size":510,"mtime":1608392946003,"results":"41","hashOfConfig":"23"},{"size":503,"mtime":1608402209764,"results":"42","hashOfConfig":"23"},{"size":952,"mtime":1608402209006,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1j2ltd",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/index.js",[],["94","95"],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reportWebVitals.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/App.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/Header.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/FormCard.js",["96"],"import React, { useEffect, useState } from 'react';\nimport { IoMdClose } from 'react-icons/io';\nimport { addFileAction, deleteFileAction, setFrom, setMessage, setTo, validationForm } from '../actions/formActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadFiles } from '../actions/uploadActions';\nimport { AiOutlineFileAdd, AiOutlineLoading3Quarters } from 'react-icons/ai';\nimport { Link } from 'react-router-dom';\nimport UploadBar from './UploadBar';\n\nexport default function FormCard({props}) {\n\n    const dispatch = useDispatch()\n\n    const [importFile, setImportFile] = useState(false)\n\n    const myForm = useSelector(state => state.form)\n    const { form } = myForm;\n\n    const myValidation = useSelector(state => state.validation)\n    const { error, success } = myValidation;\n\n    useEffect(() => {\n        let mounted = true;\n        if (mounted) {\n            if (success) {\n                dispatch(uploadFiles(form, props))\n            }    \n        }\n        return () => {\n            mounted = false;\n        }\n    }, [form, error, success])\n\n    const addFile = (e) => {\n        if (e.target.files[0]) {\n            dispatch(addFileAction(e.target.files[0]))\n        }\n        setImportFile(false)\n    }\n\n    const deleteItem = (e, name) => {\n        e.preventDefault();\n        dispatch(deleteFileAction(name))\n    }\n    \n    const onFormSubmit = (e) => {\n        e.preventDefault();\n        dispatch(validationForm(form));\n  \n    }\n\n    const clickImport = () => {\n        setImportFile(true)\n    }\n\n    return (\n        <div>\n            <div className={\"app-card\"}>\n                <form>\n                    <div className={\"app-card-header\"}>\n                        <div className={\"app-card-header-inner\"}>\n                            <div className={\"app-file-select-zone\" + (error.files ? \" error\" : \"\")}>\n                                {\n                                form.files.length > 0 ?\n                                    form.files.map((file, index) => (\n                                        <div key={index} className={\"app-file-select\"}>\n                                            <span className={\"app-file-name\"}>{file.name}</span>\n                                            <span className={\"app-file-delete\"} onClick={(e) => deleteItem(e, file.name)}><IoMdClose /></span>\n                                        </div>\n                                    ))\n                                    : null\n                                }\n                                <label htmlFor={\"input-file\"}>\n                                    <input id={\"input-file\"} type=\"file\" multiple={true} onClick={clickImport} onChange={addFile} />\n                                    <div>\n                                        <span className={\"app-icon\" + (importFile ? \"-loading upl\" : \"\")}> {importFile ? <AiOutlineLoading3Quarters size={60}/> : <AiOutlineFileAdd size={60}/>}</span>\n                                        <span className={\"app-description\"}>Déposer vos fichiers ici.</span>\n                                    </div>\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"app-card-content\"}>\n                        <UploadBar/>\n                        <div className={\"app-card-content-inner\"}>\n                            <div className={\"app-form-item\" + (error.to ? \" error\" : \"\")}>\n                                <label htmlFor={\"to\"}>Envoyer à</label>\n                                <input name={\"to\"} placeholder={\"destinataire@destinataire.com\"} type={\"text\"} id={\"to\"} value={form.to} onChange={(e) => dispatch(setTo(e.target.value))} />\n                                {error.to ? <span className=\"span-error\">{error.to}</span> : null}\n                            </div>\n                            <div className={\"app-form-item\" + (error.from ? \" error\" : \"\")}>\n                                <label htmlFor={\"from\"}>De</label>\n                                <input name={\"from\"} placeholder={\"expediteur@expediteur.com\"} type={\"text\"} id={\"from\"} value={form.from} onChange={(e) => dispatch(setFrom(e.target.value))} />\n                                {error.from ? <span className=\"span-error\">{error.from}</span> : null}\n                            </div>\n                            <div className={\"app-form-item\"}>\n                                <label htmlFor={\"message\"}>Message<span> (optionnel)</span></label>\n                                <textarea name={\"message\"} id={\"message\"} rows={4} value={form.message} onChange={(e) => dispatch(setMessage(e.target.value))} />\n                            </div>\n                            <div className={\"app-form-actions\"}>\n                                <Link to=\"\" className={\"app-button primary\"} onClick={onFormSubmit}>Envoyer</Link>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/helpers/upload.js",["97"],"import Axios from 'axios';\nimport { apiUrl } from '../config';\n\nexport const upload = (form, cb = () => {}) => {\n    \n    let fData = new FormData();\n    form.file.forEach((file) => {\n        fData.append(\"files\", file);\n    });\n    fData.append(\"to\", form.to)\n    fData.append(\"from\", form.from)\n    fData.append(\"message\", form.message)\n\n    const config = {\n        onUploadProgress: (event) => {\n            console.log(\"upload event\", event)\n            return cb({\n                type: 'onUploadProgress',\n                payload: event,\n            })\n        }\n    }\n\n    Axios.post('http://localhost:5001/api/upload', fData, config).then((response) => {\n        return cb({\n                type: \"success\",\n                payload: response.data,\n            })\n        }).catch((err) => {\n            return cb({\n                type: \"error\",\n                payload: err,\n            })\n        })\n} ",["98","99"],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/config.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/DownloadCard.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutUpload.js",["100","101"],"import React, { useEffect } from 'react'\nimport Header from './Header'\nimport '../css/app.css'\nimport FormCard from './FormCard'\nimport { useSelector } from 'react-redux'\n\nexport default function LayoutUpload(props) {\n\n/*     const myUpload = useSelector(state => state.upload)\n    const { post } = myUpload;\n\n    useEffect(() => {\n        let mounted = true;\n        if (mounted) {\n            if (Object.keys(post).length !== 0) {\n                props.history.push(\"/sent/\" + post._id)\n            }\n        }\n        return () => {\n            mounted = false;\n        }\n    }, []) */\n    \n    return (\n        <div className={\"app-layout\"}>\n            <div className={\"app-container\"}>\n                <Header/>\n                <div className={\"app-content\"}>\n                    <FormCard props={props}/>\n                </div>\n            </div>\n        </div>\n    )\n}\n","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutDownload.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/helpers/formatBytes.js",["102"],"function formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\nfunction formatSeconds(timeStamp) {\n    let time = timeStamp;\n    if (time < 60) {\n        time = parseFloat(timeStamp).toFixed(0);\n        return time + ' ' + 's';\n    }\n    else {\n        time = parseFloat(timeStamp / 60).toFixed(2);\n        const mn = time.split('.')[0];\n        const s = (time.split('.')[1] / 10) * 60\n        return mn + 'mn ' + s + 's'\n    }\n}\n\nexport { formatBytes, formatSeconds}","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/LayoutSent.js",["103"],"import React, { useEffect } from 'react'\nimport Header from './Header'\nimport '../css/app.css'\nimport SentCard from './SentCard'\n\nexport default function LayoutSent(props) {\n\n    return (\n        <div className={\"app-layout\"}>\n            <div className={\"app-container\"}>\n                <Header />\n                <div className={\"app-content\"}>\n                    <SentCard id={props.match.params.id}/>\n                </div>\n            </div>\n        </div>\n    )\n}\n","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/SentCard.js",["104","105","106"],"import { Link } from 'react-router-dom'\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetPostUpl, resetStats } from '../actions/uploadActions';\nimport { RiMailSendLine } from 'react-icons/ri'\nimport { resetForm } from '../actions/formActions';\nimport { recupPostInfos, resetPostDl } from '../actions/downloadActions';\nimport { AiOutlineLoading3Quarters } from 'react-icons/ai';\nimport { formatBytes } from '../helpers/formatBytes';\n\nexport default function SentCard({ id }) {\n\n    const [size, setSize] = useState(0);\n    \n    const dispatch = useDispatch()\n\n    const myDownload = useSelector(state => state.download)\n    const { loading, post } = myDownload;\n\n    const uploadStats = useSelector(state => state.uploadStats)\n    const { bytes, time } = uploadStats;\n\n    const resetState = () => {\n        dispatch(resetPostUpl());\n        dispatch(resetPostDl());\n        dispatch(resetForm());\n        dispatch(resetStats());\n    }\n    useEffect(() => {\n        if (Object.keys(post).length === 0) {\n            dispatch(recupPostInfos(id))\n        }\n        if (Object.keys(post).length !== 0) {\n            console.log(\"plus vide\")\n            setSize(formatBytes(sizePost()))\n        }\n        return () => {\n        }\n    }, [dispatch, loading])\n\n    const sizePost = () => {\n        const file = post.files;\n        return file.reduce((total, file) => {\n            return total + (1 * file.size)\n        }, 0)\n    }\n\n    return ( loading ? <span className={\"app-icon-loading send\"}> <AiOutlineLoading3Quarters size={60}/> </span> :\n        <div>\n            <div className={\"app-card\"}>\n                <div className={\"app-card-header\"}>\n                    <div className={\"app-card-header-inner\"}>\n                        <div className={\"app-card-header-send\"}>\n                            <span className={\"app-icon\"}><RiMailSendLine size={60} /></span>\n                            <span className={\"app-description\"}>Un lien de téléchargement vient d'être envoyé au destinataire.</span>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"app-card-content\"}>\n                    <div className={\"app-card-content-text\"}>\n                        <div className={\"app-card-content-file-detail-send\"}>\n                            {post.files.map((file, i) => (\n                                <div key={i}>Fichier n°{i + 1} : <span>{file.originalname}</span></div>\n                            ))}\n                        </div>\n                        <div>Nombre de fichier{post.files.length > 1 ? \"s\" : null} : <span>{post.files.length}</span></div>\n                        <div>Taille : <span>{size}</span></div>\n                        <div>Envoyé{post.files.length > 1 ? \"s\" : null} le : <span>{post.created_at.split('T')[0]}</span></div>\n                        <div>Vers : <span>{post.to}</span></div>\n                    </div>\n                    <div className={\"app-card-content-inner\"}>\n                        <div className={\"app-form-actions\"}>\n                            <Link to={\"/download/\" + id} className={\"app-button primary\"}>Voir mes fichiers</Link>\n                        </div>\n                        <div className={\"app-form-actions\"}>\n                            <Link to={\"/\"} className={\"app-button\"} onClick={resetState}>Envoyer d'autres fichiers</Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","/Users/seghrouchni/Desktop/Uploader Project/frontend/src/store.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/uploadReducer.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/uploadActions.js",["107"],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/formActions.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/formReducer.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/reducers/downloadReducer.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/actions/downloadActions.js",[],"/Users/seghrouchni/Desktop/Uploader Project/frontend/src/components/UploadBar.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":32,"column":8,"nodeType":"114","endLine":32,"endColumn":30,"suggestions":"115"},{"ruleId":"116","severity":1,"message":"117","line":2,"column":10,"nodeType":"118","messageId":"119","endLine":2,"endColumn":16},{"ruleId":"108","replacedBy":"120"},{"ruleId":"110","replacedBy":"121"},{"ruleId":"116","severity":1,"message":"122","line":1,"column":17,"nodeType":"118","messageId":"119","endLine":1,"endColumn":26},{"ruleId":"116","severity":1,"message":"123","line":5,"column":10,"nodeType":"118","messageId":"119","endLine":5,"endColumn":21},{"ruleId":"124","severity":1,"message":"125","line":14,"column":27,"nodeType":"126","messageId":"127","endLine":14,"endColumn":28},{"ruleId":"116","severity":1,"message":"122","line":1,"column":17,"nodeType":"118","messageId":"119","endLine":1,"endColumn":26},{"ruleId":"116","severity":1,"message":"128","line":21,"column":13,"nodeType":"118","messageId":"119","endLine":21,"endColumn":18},{"ruleId":"116","severity":1,"message":"129","line":21,"column":20,"nodeType":"118","messageId":"119","endLine":21,"endColumn":24},{"ruleId":"112","severity":1,"message":"130","line":39,"column":8,"nodeType":"114","endLine":39,"endColumn":27,"suggestions":"131"},{"ruleId":"116","severity":1,"message":"132","line":13,"column":15,"nodeType":"118","messageId":"119","endLine":13,"endColumn":18},"no-native-reassign",["133"],"no-negated-in-lhs",["134"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'props'. Either include them or remove the dependency array.","ArrayExpression",["135"],"no-unused-vars","'apiUrl' is defined but never used.","Identifier","unusedVar",["133"],["134"],"'useEffect' is defined but never used.","'useSelector' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'bytes' is assigned a value but never used.","'time' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'id', 'post', and 'sizePost'. Either include them or remove the dependency array.",["136"],"'res' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"137","fix":"138"},{"desc":"139","fix":"140"},"Update the dependencies array to be: [form, error, success, dispatch, props]",{"range":"141","text":"142"},"Update the dependencies array to be: [dispatch, id, loading, post, sizePost]",{"range":"143","text":"144"},[1061,1083],"[form, error, success, dispatch, props]",[1305,1324],"[dispatch, id, loading, post, sizePost]"]